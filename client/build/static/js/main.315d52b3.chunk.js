(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t(56)},54:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(18),l=t.n(r),c=(t(27),t(2)),m=t(3),i=t(5),o=t(4),u=t(6),h=t(9),d=t.n(h),g=t(19),p=t.n(g),f=function(e){var a=e.name,t=e.email,n=e.message,r=e.date;return s.a.createElement("div",{className:"col s12"},s.a.createElement("div",{className:"card white lighten-3",style:{borderRadius:"10px"}},s.a.createElement("div",{className:"card-content"},s.a.createElement("span",{className:"card-title"},s.a.createElement("h5",null,a)),s.a.createElement("p",null,n),s.a.createElement("p",null,t),s.a.createElement("p",null,p()(r).format("LL")))))},v=function(e){var a=e.messages;return a.length?s.a.createElement("div",{className:"row"},a.map(function(e){var a=e.Name,t=e.Email,n=e.Message,r=e.Date;return s.a.createElement(f,{name:a,email:t,message:n,date:r})})):s.a.createElement("div",null,"Loading..")},E=t(20),b=t(21),y=t.n(b),j=(t(54),function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",message:"",email:"",errors:[]},t.handleChange=function(e){t.setState(Object(E.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.formIsValid()&&(t.props.addMessage(t.state),t.setState({name:"",email:"",message:"",errors:[]}))},t.formIsValid=function(){var e=t.state,a=e.name,n=e.email,s=e.message,r=[];return a||r.push("Please enter your name"),y.a.validate(n)||r.push("Please enter a valid email"),s.length<10&&r.push("Please enter a message of at least 10 characters"),r.length&&t.setState(function(){return{errors:r}}),!r.length},t.displayErrorMessages=function(){return t.state.errors.map(function(e){return s.a.createElement("div",null,e)})},t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-style-10"},s.a.createElement("h1",null,"Leave a message below"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"inner-wrap"},s.a.createElement("label",{htmlFor:"name"},"Name",s.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange,value:this.state.name})),s.a.createElement("label",{htmlFor:"email"},"Email Address",s.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange,value:this.state.email})),s.a.createElement("label",{htmlFor:"message"},"Message"," ",s.a.createElement("textarea",{id:"message",onChange:this.handleChange,value:this.state.message}))),this.state.errors.length>0&&s.a.createElement("div",{className:"error"},this.displayErrorMessages()),s.a.createElement("div",{className:"button-section"},s.a.createElement("input",{type:"submit",value:"Leave Message"}))))}}]),a}(n.Component)),O="http://flashmatics.co.uk/reactplayground/projects/react_php_guestbook/api/index.php",M=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).state={messages:[]},t.fetchMessages=function(){d.a.get(O).then(function(e){var a=e.data;t.setState(function(){return{messages:a}})}).catch(function(e){return console.log(e)})},t.addMessage=function(e){var a=e.name,n=e.email,s=e.message;d.a.post(O,{name:a,email:n,message:s}).then(t.fetchMessages).catch(function(e){return console.log("the error ",e)})},t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchMessages()}},{key:"render",value:function(){var e=this.state.messages;return s.a.createElement(s.a.Fragment,null,s.a.createElement(j,{addMessage:this.addMessage}),s.a.createElement(v,{messages:e}))}}]),a}(n.Component),N=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h3",{className:"title"}," React-PHP-mySQL guestbook "),s.a.createElement(M,null))}}]),a}(n.Component);t(55);l.a.render(s.a.createElement(N,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.315d52b3.chunk.js.map