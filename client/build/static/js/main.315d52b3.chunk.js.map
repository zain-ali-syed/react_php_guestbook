{"version":3,"sources":["components/Messages/MessageItem.js","components/Messages/MessageList.js","components/Messages/AddMessage.js","components/Messages/index.js","App.js","index.js"],"names":["MessageItem","_ref","name","email","message","date","react_default","a","createElement","className","style","borderRadius","moment","format","MessageList","messages","length","map","_ref2","Name","Email","Message","Date","Messages_MessageItem","AddMessage","state","errors","handleChange","e","_this","setState","Object","defineProperty","target","id","value","handleSubmit","preventDefault","formIsValid","props","addMessage","_this$state","push","Isemail","validate","displayErrorMessages","error","onSubmit","this","htmlFor","type","onChange","Component","apiURL","Messages","fetchMessages","axios","get","then","data","catch","console","log","post","Fragment","components_Messages_AddMessage","Messages_MessageList","App","components_Messages","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.315d52b3.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment';\n\nconst MessageItem = ({ name, email, message, date }) => {\n  return (\n    <div className=\"col s12\">\n      <div className=\"card white lighten-3\" style={{ borderRadius: '10px' }}>\n        <div className=\"card-content\">\n          <span className=\"card-title\">\n            <h5>{name}</h5>\n          </span>\n          <p>{message}</p>\n          <p>{email}</p>\n          <p>{moment(date).format('LL')}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageItem;\n","import React from 'react';\nimport MessageItem from './MessageItem';\n\nconst MessageList = ({ messages }) => {\n  if (!messages.length) return <div>Loading..</div>;\n  return (\n    <div className=\"row\">\n      {messages.map(({ Name, Email, Message, Date }) => (\n        <MessageItem name={Name} email={Email} message={Message} date={Date} />\n      ))}\n    </div>\n  );\n};\n\nexport default MessageList;\n","import React, { Component } from 'react';\nimport Isemail from 'isemail';\nimport './AddMessage.css';\n\nclass AddMessage extends Component {\n  state = {\n    name: '',\n    message: '',\n    email: '',\n    errors: []\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.formIsValid()) {\n      this.props.addMessage(this.state);\n      this.setState({ name: '', email: '', message: '', errors: [] });\n    }\n  };\n\n  formIsValid = () => {\n    const { name, email, message } = this.state;\n    const errors = [];\n    if (!name) errors.push('Please enter your name');\n    if (!Isemail.validate(email)) errors.push('Please enter a valid email');\n    if (message.length < 10)\n      errors.push('Please enter a message of at least 10 characters');\n    if (errors.length) this.setState(() => ({ errors }));\n    return !errors.length;\n  };\n\n  displayErrorMessages = () => {\n    const { errors } = this.state;\n    return errors.map(error => <div>{error}</div>);\n  };\n\n  render() {\n    return (\n      <div className=\"form-style-10\">\n        <h1>Leave a message below</h1>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"inner-wrap\">\n            <label htmlFor=\"name\">\n              Name\n              <input\n                type=\"text\"\n                id=\"name\"\n                onChange={this.handleChange}\n                value={this.state.name}\n              />\n            </label>\n            <label htmlFor=\"email\">\n              Email Address\n              <input\n                type=\"email\"\n                id=\"email\"\n                onChange={this.handleChange}\n                value={this.state.email}\n              />\n            </label>\n            <label htmlFor=\"message\">\n              Message{' '}\n              <textarea\n                id=\"message\"\n                onChange={this.handleChange}\n                value={this.state.message}\n              />\n            </label>\n          </div>\n\n          {this.state.errors.length > 0 && (\n            <div className=\"error\">{this.displayErrorMessages()}</div>\n          )}\n\n          <div className=\"button-section\">\n            <input type=\"submit\" value=\"Leave Message\" />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default AddMessage;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport MessageList from './MessageList';\nimport AddMessage from './AddMessage';\n\nconst apiURL =\n  'http://flashmatics.co.uk/reactplayground/projects/react_php_guestbook/api/index.php';\n\nclass Messages extends Component {\n  state = {\n    messages: []\n  };\n\n  componentDidMount() {\n    this.fetchMessages();\n  }\n\n  fetchMessages = () => {\n    axios\n      .get(apiURL)\n      .then(({ data }) => {\n        this.setState(() => ({ messages: data }));\n      })\n      .catch(error => console.log(error));\n  };\n\n  addMessage = ({ name, email, message }) => {\n    axios\n      .post(apiURL, {\n        name,\n        email,\n        message\n      })\n      .then(this.fetchMessages)\n      .catch(error => console.log('the error ', error));\n  };\n\n  render() {\n    const { messages } = this.state;\n    return (\n      <>\n        <AddMessage addMessage={this.addMessage} />\n        <MessageList messages={messages} />\n      </>\n    );\n  }\n}\n\nexport default Messages;\n","import React, { Component } from 'react';\nimport Messages from './components/Messages';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <h3 className=\"title\"> React-PHP-mySQL guestbook </h3>\n        <Messages />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}